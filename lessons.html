
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartKids Lessons</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">

  <div class="max-w-4xl mx-auto py-8 px-4">
    <h1 class="text-3xl font-bold text-blue-700 mb-4 text-center">Computer Lessons</h1>

<!-- Fixed Search Bar -->
<div class="fixed top-100 left-0 w-full bg-gray-50 z-50 p-4 shadow">
  <div class="max-w-4xl mx-auto text-center">
    <input id="searchInput" type="text" placeholder="Search lessons or topics..."
      class="w-full sm:w-2/3 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"
    >
  </div>
</div>

<!-- Add spacing below fixed bar to avoid overlap -->
<div class="h-24"></div> <!-- Adjust height if needed -->
    
    <!-- Search Bar --
    <div class="mb-6 text-center">
      <input id="searchInput" type="text" placeholder="Search lessons or topics..."
        class="w-full sm:w-2/3 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"
      >
    </div>

    <!-- Topics container -->
    <div id="lessonsContainer" class="space-y-6"></div>

    <!-- Back buttons -->
    <div class="mt-8 flex justify-center space-x-4">
      <a href="https://slide-t.github.io/smartkids-learning/classes.html" 
         class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
        ⬅ Keyboard Drill
      </a>
      <a href="https://slide-t.github.io/smartkids-learning/mouse.html" 
         class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
        ⬅ Mouse Practice 
      </a>
    </div>
  </div>
    
<script>
let allCategories = [];

async function loadLessons() {
  const container = document.getElementById('lessonsContainer');
  const searchInput = document.getElementById('searchInput');

  container.innerHTML = "<p class='text-gray-500'>Loading lessons...</p>";

  try {
    const res = await fetch('data/lessons.json');
    const data = await res.json();
    allCategories = data.categories;

    renderLessons(allCategories);

    // Search event
    searchInput.addEventListener('input', () => {
      const query = searchInput.value.toLowerCase();
      const filtered = allCategories.map(cat => {
        const matchedTopics = cat.topics.filter(topic =>
          topic.title.toLowerCase().includes(query) || cat.name.toLowerCase().includes(query)
        );
        return { ...cat, topics: matchedTopics };
      }).filter(cat => cat.topics.length > 0);

      renderLessons(filtered);
    });

  } catch (err) {
    container.innerHTML = "<p class='text-red-600'>Error loading lessons file.</p>";
    console.error(err);
  }
}

// Function to render categories and topics
function renderLessons(categories) {
  const container = document.getElementById('lessonsContainer');
  container.innerHTML = '';

  categories.forEach(category => {
    const catDiv = document.createElement('div');
    catDiv.className = "bg-white p-4 rounded-lg shadow";

    catDiv.innerHTML = `<h2 class="text-xl font-semibold text-blue-600 mb-3">${category.name}</h2>`;

    const topicsGrid = document.createElement('div');
    topicsGrid.className = "grid sm:grid-cols-2 gap-4";

    category.topics.forEach(topic => {
      const topicDiv = document.createElement('div');
      topicDiv.className = "p-4 bg-blue-50 rounded-lg shadow hover:bg-blue-100 transition";

      topicDiv.innerHTML = `
        <h3 class="text-lg font-medium text-blue-800">${topic.title}</h3>
        <a href="detail-notes.html?id=${encodeURIComponent(topic.id)}" 
           class="mt-2 inline-block text-sm text-blue-700 hover:underline">
           Read Lesson →
        </a>
      `;
      topicsGrid.appendChild(topicDiv);
    });

    catDiv.appendChild(topicsGrid);
    container.appendChild(catDiv);
  });
}

document.addEventListener('DOMContentLoaded', loadLessons);
</script>

</body>
</html>




<!--
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartKids Lessons</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">

  <div class="max-w-4xl mx-auto py-8 px-4">
    <h1 class="text-3xl font-bold text-blue-700 mb-6 text-center">Computer Lessons</h1>

    <!-- Topics container --
    <div id="lessonsContainer" class="space-y-6"></div>
<!-- Back buttons --
<div class="mt-8 flex justify-center space-x-4">
  <a href="https://slide-t.github.io/smartkids-learning/classes.html" 
     class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
    ⬅ Keyboard Drill
  </a>
  <a href="https://slide-t.github.io/smartkids-learning/mouse.html" 
     class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
    ⬅ Mouse Practice 
  </a>
</div>
  </div>
    
<script>
async function loadLessons() {
  const container = document.getElementById('lessonsContainer');
  container.innerHTML = "<p class='text-gray-500'>Loading lessons...</p>";

  try {
    const res = await fetch('data/lessons.json');
    const data = await res.json();

    container.innerHTML = '';

    // Loop through categories
    data.categories.forEach(category => {
      // Category section
      const catDiv = document.createElement('div');
      catDiv.className = "bg-white p-4 rounded-lg shadow";

      catDiv.innerHTML = `<h2 class="text-xl font-semibold text-blue-600 mb-3">${category.name}</h2>`;

      // Topics grid
      const topicsGrid = document.createElement('div');
      topicsGrid.className = "grid sm:grid-cols-2 gap-4";

      // Loop through topics
      category.topics.forEach(topic => {
        const topicDiv = document.createElement('div');
        topicDiv.className = "p-4 bg-blue-50 rounded-lg shadow hover:bg-blue-100 transition";

        topicDiv.innerHTML = `
          <h3 class="text-lg font-medium text-blue-800">${topic.title}</h3>
          <a href="detail-notes.html?id=${encodeURIComponent(topic.id)}" 
             class="mt-2 inline-block text-sm text-blue-700 hover:underline">
             Read Lesson →
          </a>
        `;

        topicsGrid.appendChild(topicDiv);
      });

      catDiv.appendChild(topicsGrid);
      container.appendChild(catDiv);
    });

  } catch (err) {
    container.innerHTML = "<p class='text-red-600'>Error loading lessons file.</p>";
    console.error(err);
  }
}

document.addEventListener('DOMContentLoaded', loadLessons);
</script>
-->

<!-- Registration / Login Modal -->
<div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-lg shadow-lg w-96">
    <h2 class="text-xl font-bold mb-4">SmartKids Registration</h2>
    <form id="authForm" class="space-y-3">
      <div>
        <label class="block mb-1">Full Name</label>
        <input type="text" id="fullName" class="w-full border p-2 rounded" required />
      </div>
      <div>
        <label class="block mb-1">Class</label>
        <input type="text" id="className" class="w-full border p-2 rounded" required />
      </div>
      <div>
        <label class="block mb-1">School Name</label>
        <input type="text" id="schoolName" class="w-full border p-2 rounded" required />
      </div>
      <div>
        <label class="block mb-1">State</label>
        <input type="text" id="state" class="w-full border p-2 rounded" required />
      </div>
      <div>
        <label class="block mb-1">Country</label>
        <input type="text" id="country" class="w-full border p-2 rounded" required />
      </div>
      <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Register</button>
    </form>
  </div>
</div>

<!-- Logout Button -->
<button id="logoutBtn" class="hidden bg-red-500 text-white px-4 py-2 rounded m-4">Logout</button>
<script src="auth.js"></script>
<script>
document.addEventListener("DOMContentLoaded", async () => {
  const authModal = document.getElementById("authModal");
  const authForm = document.getElementById("authForm");
  const logoutBtn = document.getElementById("logoutBtn");

  const currentUser = getCurrentUser();

  if (!currentUser) {
    authModal.classList.remove("hidden"); // show modal
  } else {
    logoutBtn.classList.remove("hidden"); // already logged in
  }

  authForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const pupil = {
      fullName: document.getElementById("fullName").value.trim(),
      className: document.getElementById("className").value.trim(),
      schoolName: document.getElementById("schoolName").value.trim(),
      state: document.getElementById("state").value.trim(),
      country: document.getElementById("country").value.trim(),
      timestamp: Date.now()
    };

    await addPupil(pupil);
    setCurrentUser(pupil);

    authModal.classList.add("hidden");
    logoutBtn.classList.remove("hidden");
  });

  logoutBtn.addEventListener("click", () => {
    logoutUser();
    logoutBtn.classList.add("hidden");
    authModal.classList.remove("hidden");
  });
});
</script>
<!-- Registration Form Modal -->
<div id="registrationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-lg shadow-lg w-96">
    <h2 class="text-xl font-bold mb-4">SmartKids Registration</h2>
    <form id="registrationForm" class="space-y-3">
      <div>
        <label class="block text-sm font-medium">Full Name</label>
        <input type="text" id="fullName" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">School Name</label>
        <input type="text" id="schoolName" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">State</label>
        <input type="text" id="state" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">Country</label>
        <input type="text" id="country" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">Password</label>
        <input type="password" id="password" class="w-full border p-2 rounded" required>
      </div>
      <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
        Register
      </button>
    </form>
  </div>
</div>

<!-- Logout Button -->
<button id="logoutBtn" class="hidden fixed top-4 right-4 bg-red-600 text-white px-4 py-2 rounded">
  Logout
</button>
<script src="registration.js"></script>
</body>
</html>
