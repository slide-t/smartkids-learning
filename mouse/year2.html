<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mouse Practice - Year 2</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: sans-serif; background: #f0f4f8; }
  header { background-color: #1e40af; color: white; padding: 1rem; text-align: center; position: sticky; top: 0; z-index: 50; }
  header a { background: white; color: #1e40af; padding: 0.5rem 1rem; border-radius: 0.5rem; margin-left: 1rem; text-decoration: none; font-weight: bold; }
  .accordion-body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; background: white; border-radius: 0.5rem; }
  .accordion-header { cursor: pointer; padding: 1rem; background: #60a5fa; color: white; font-weight: bold; display: flex; justify-content: space-between; border-radius: 0.5rem; margin-bottom: 0.5rem; }
  .practice-area { position: relative; width: 100%; height: 300px; background: #e2e8f0; border-radius: 0.5rem; overflow: hidden; margin-top: 1rem; }
  .draggable { width: 50px; height: 50px; position: absolute; cursor: grab; border-radius: 8px; background-color: #3b82f6; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; user-select: none; }
  .dropzone { width: 120px; height: 120px; position: absolute; border: 3px dashed #16a085; border-radius: 0.5rem; display: flex; justify-content: center; align-items: center; font-weight: bold; color: #16a085; }
  .stats span { margin-right: 1rem; font-weight: bold; }
  button { transition: all 0.2s; }
</style>
</head>
<body>

<header>
  Mouse Practice - Year 2
  <a href="https://slide-t.github.io/smartkids-learning/mouse.html">Home</a>
</header>

<main class="max-w-4xl mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4 text-center">Year 2 Topics</h2>

  <div id="accordion">
    <div>
      <div class="accordion-header">Drag and Drop <span>+</span></div>
      <div class="accordion-body" id="dragDropBody">
        <p class="p-4">Drag the folders into the drop zone. Right-click to see folder properties.</p>
        <div id="dragDropArea" class="practice-area"></div>
      </div>
    </div>

    <div>
      <div class="accordion-header">Right-Click Basics <span>+</span></div>
      <div class="accordion-body" id="rightClickBody">
        <p class="p-4">Right-click on the objects to see context menus.</p>
        <div id="rightClickArea" class="practice-area"></div>
      </div>
    </div>

    <div>
      <div class="accordion-header">Click and Hold <span>+</span></div>
      <div class="accordion-body" id="clickHoldBody">
        <p class="p-4">Click and hold the object to draw a straight line inside the area.</p>
        <div id="clickHoldArea" class="practice-area"></div>
      </div>
    </div>
  </div>
</main>

<script>
// Accordion toggle
document.querySelectorAll('.accordion-header').forEach(header => {
  header.addEventListener('click', () => {
    const body = header.nextElementSibling;
    const open = body.style.maxHeight && body.style.maxHeight !== '0px';
    document.querySelectorAll('.accordion-body').forEach(b => b.style.maxHeight = null);
    document.querySelectorAll('.accordion-header span').forEach(s => s.style.transform = 'rotate(0deg)');
    if(!open){
      body.style.maxHeight = body.scrollHeight + 'px';
      header.querySelector('span').style.transform = 'rotate(45deg)';
    }
  });
});

// Year 2: Drag & Drop
function startDragDrop(){
  const area = document.getElementById('dragDropArea');
  area.innerHTML = '';

  const dropzone = document.createElement('div');
  dropzone.className = 'dropzone';
  dropzone.style.top = '100px';
  dropzone.style.left = '250px';
  dropzone.textContent = 'Drop Here';
  area.appendChild(dropzone);

  for(let i=0;i<3;i++){
    const shape = document.createElement('div');
    shape.className = 'draggable';
    shape.textContent = '📁';
    shape.style.top = `${20+i*60}px`;
    shape.style.left = `${20+i*80}px`;

    shape.onmousedown = function(e){
      let shiftX = e.clientX - shape.getBoundingClientRect().left;
      let shiftY = e.clientY - shape.getBoundingClientRect().top;

      function moveAt(pageX,pageY){
        const rect = area.getBoundingClientRect();
        shape.style.left = pageX - shiftX - rect.left + 'px';
        shape.style.top = pageY - shiftY - rect.top + 'px';
      }

      function onMouseMove(e){ moveAt(e.pageX,e.pageY); }
      document.addEventListener('mousemove', onMouseMove);

      shape.onmouseup = function(){
        document.removeEventListener('mousemove', onMouseMove);
        shape.onmouseup = null;
        // check drop
        const s = shape.getBoundingClientRect();
        const d = dropzone.getBoundingClientRect();
        if(s.left < d.right && s.right > d.left && s.top < d.bottom && s.bottom > d.top){
          shape.remove();
          alert('Dropped successfully!');
        }
      };
    };

    shape.ondragstart = () => false;
    shape.oncontextmenu = e => { e.preventDefault(); alert('Folder properties opened!'); };
    area.appendChild(shape);
  }
}
startDragDrop();

// Year 2: Right-Click Basics
function startRightClick(){
  const area = document.getElementById('rightClickArea');
  area.innerHTML = '';
  const obj = document.createElement('div');
  obj.className = 'draggable';
  obj.textContent = '📄';
  obj.style.top = '100px';
  obj.style.left = '150px';
  obj.oncontextmenu = e => { e.preventDefault(); alert('Context menu opened!'); };
  area.appendChild(obj);
}
startRightClick();

// Year 2: Click and Hold
function startClickHold(){
  const area = document.getElementById('clickHoldArea');
  area.innerHTML = '';
  const canvas = document.createElement('canvas');
  canvas.width = area.clientWidth;
  canvas.height = area.clientHeight;
  canvas.style.border = '1px solid #94a3b8';
  area.appendChild(canvas);
  const ctx = canvas.getContext('2d');

  let drawing = false;
  canvas.onmousedown = e => { drawing = true; ctx.beginPath(); ctx.moveTo(e.offsetX,e.offsetY); };
  canvas.onmousemove = e => { if(drawing) ctx.lineTo(e.offsetX,e.offsetY); ctx.stroke(); };
  canvas.onmouseup = () => drawing = false;
  canvas.onmouseleave = () => drawing = false;
}
startClickHold();
</script>

</body>
</html>
