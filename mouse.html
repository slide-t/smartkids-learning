<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Smart Learning Kids - Mouse Practice</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  .accordion-body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; }
  .accordion-header span:last-child { transition: transform 0.3s ease; }
  .hidden { display: none; }
</style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">

<header class="bg-blue-600 text-white shadow-md fixed top-0 left-0 w-full z-50">
  <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
    <h1 class="text-2xl font-bold">Smart Learning Kids</h1>
    <a href="https://slide-t.github.io/smartkids-learning/" class="bg-white text-blue-600 px-4 py-2 rounded-lg font-medium shadow hover:bg-blue-100 transition">Home</a>
  </div>
</header>

<main class="pt-24 max-w-4xl mx-auto px-4">
  <h2 class="text-3xl font-bold text-center mb-8">Mouse Practice</h2>
  <div id="accordion" class="space-y-4"></div>
</main>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("accordion");

  // Years 1-12 with topics
  const years = [
    {id:"year1", name:"Year 1", topics:["Clicking Basics","Double-Clicking","Mouse Movement"]},
    {id:"year2", name:"Year 2", topics:["Drag and Drop","Right-Click Basics","Click and Hold"]},
    {id:"year3", name:"Year 3", topics:["Text Selection","Scrolling","Simple Shapes Drawing"]},
    {id:"year4", name:"Year 4", topics:["File and Folder Selection","Resizing Windows","Simple Gaming Controls"]},
    {id:"year5", name:"Year 5", topics:["Using Toolbars","Right-Click Advanced","Shape Manipulation"]},
    {id:"year6", name:"Year 6", topics:["Copy, Cut, Paste with Mouse","Advanced Drag-and-Drop","Multi-Window Navigation"]},
    {id:"year7", name:"Year 7", topics:["Using Drawing Tools","Precision Clicking","Scroll and Zoom"]},
    {id:"year8", name:"Year 8", topics:["Spreadsheet Navigation","Advanced Gaming Controls","Image Editing Basics"]},
    {id:"year9", name:"Year 9", topics:["Graphic Design Tools","Multi-Select and Grouping","Timeline Navigation"]},
    {id:"year10", name:"Year 10", topics:["3D Object Manipulation","Layer Controls in Editing","Precision Selection Tools"]},
    {id:"year11", name:"Year 11", topics:["Professional Design Tools","Complex Spreadsheet Skills","CAD-like Interactions"]},
    {id:"year12", name:"Year 12", topics:["Advanced Multimedia Editing","UI/UX Prototyping","High-Speed Precision Tasks"]}
  ];

  years.forEach(year => {
    const card = document.createElement("div");
    card.className = "bg-white rounded-xl shadow-md overflow-hidden mb-4";

    const header = document.createElement("button");
    header.className = "accordion-header w-full flex justify-between items-center px-6 py-4 text-lg font-semibold bg-blue-100 hover:bg-blue-200 transition";
    header.innerHTML = `<span>${year.name}</span><span>+</span>`;
    card.appendChild(header);

    const body = document.createElement("div");
    body.className = "accordion-body bg-gray-50 px-4 py-2";

    body.innerHTML = year.topics.map(topic => {
      return `<div class="mb-2">
        <a href="mouse/${year.id}.html" class="block px-4 py-2 rounded-lg shadow bg-white hover:shadow-md hover:bg-blue-50 transition">
          üñ±Ô∏è ${topic}
        </a>
      </div>`;
    }).join("");

    card.appendChild(body);

    header.addEventListener("click", () => {
      const isOpen = body.style.maxHeight && body.style.maxHeight !== "0px";
      container.querySelectorAll(".accordion-body").forEach(el => el.style.maxHeight = null);
      container.querySelectorAll(".accordion-header span:last-child").forEach(icon => icon.style.transform = "rotate(0deg)");
      if (!isOpen) {
        body.style.maxHeight = body.scrollHeight + "px";
        header.querySelector("span:last-child").style.transform = "rotate(45deg)";
      }
    });

    container.appendChild(card);
  });
});
</script>
<!-- Footer -->
  <footer class="border-t bg-white/70 mt-16">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col md:flex-row justify-between gap-6">
      <div>
        <h4 class="font-bold">SmartKids Learning</h4>
        <p class="text-sm text-slate-600 max-w-xs">Teaching practical computer skills & coding to children across Nigeria and beyond.</p>
      </div>
      <div class="flex gap-6 items-start">
        <div>
          <h5 class="font-semibold">Contact</h5>
          <p class="text-sm text-slate-600">smartkidslearning.org</p>
        </div>
        <div>
          <h5 class="font-semibold">Follow</h5>
          <p class="text-sm text-slate-600">Twitter ‚Ä¢ Facebook ‚Ä¢ Instagram</p>
        </div>
      </div>
    </div>
  </footer>

<!-- Registration Form Modal --
<div id="registrationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-lg shadow-lg w-96">
    <h2 class="text-xl font-bold mb-4">SmartKids Registration</h2>
    <form id="registrationForm" class="space-y-3">
      <div>
        <label class="block text-sm font-medium">Full Name</label>
        <input type="text" id="fullName" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block text-sm font-medium">Class Name</label>
        <input type="text" id="className" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block text-sm font-medium">School Name</label>
        <input type="text" id="schoolName" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block text-sm font-medium">Select Year</label>
        <select id="yearSelect" class="w-full border rounded p-2" required>
          <option value="">Select Year</option>
          ${[...Array(12)].map((_,i)=>`<option>Year ${i+1}</option>`).join('')}
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium">Do you like SmartKids Tutor?</label>
        <select id="likeTutor" class="w-full border rounded p-2" required>
          <option value="">Select</option>
          <option>Yes</option>
          <option>No</option>
        </select>
      </div>
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded">Submit</button>
    </form>
    <button id="newUserBtn" class="mt-3 text-sm text-red-600 underline">Register as New User</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("registrationModal");
  const form = document.getElementById("registrationForm");
  const newUserBtn = document.getElementById("newUserBtn");

  let db;
  const request = indexedDB.open("SmartKidsDB", 1);
  request.onupgradeneeded = (e) => {
    db = e.target.result;
    if (!db.objectStoreNames.contains("users")) {
      db.createObjectStore("users", { keyPath: "id", autoIncrement: true });
    }
    if (!db.objectStoreNames.contains("activityLogs")) {
      const store = db.createObjectStore("activityLogs", { keyPath: "id", autoIncrement: true });
      store.createIndex("student", "fullName");
    }
  };
  request.onsuccess = (e) => { db = e.target.result; };
  request.onerror = (e) => console.error("DB Error:", e);

  // Load existing user from localStorage
  let currentUser = JSON.parse(localStorage.getItem("smartKidsUser"));
  if (!currentUser) modal.classList.remove("hidden");

  // Submit form
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const data = {
      fullName: document.getElementById("fullName").value.trim(),
      className: document.getElementById("className").value.trim(),
      schoolName: document.getElementById("schoolName").value.trim(),
      year: document.getElementById("yearSelect").value,
      likeTutor: document.getElementById("likeTutor").value,
      timestamp: new Date().toISOString()
    };

    if (!data.fullName || !data.className || !data.schoolName || !data.year || !data.likeTutor) {
      alert("All fields are required!");
      return;
    }

    // Save to localStorage
    localStorage.setItem("smartKidsUser", JSON.stringify(data));
    currentUser = data;

    // Save to IndexedDB
    const tx = db.transaction("users", "readwrite");
    tx.objectStore("users").add(data);

    modal.classList.add("hidden");
    alert("Registration successful! Welcome, " + data.fullName);

    // Log page visit
    logActivity(currentUser.fullName, window.location.pathname, "visit");
  });

  newUserBtn.addEventListener("click", () => {
    localStorage.removeItem("smartKidsUser");
    currentUser = null;
    modal.classList.remove("hidden");
  });

  // Activity logging function
  async function logActivity(fullName, page, type, extra = {}) {
    if (!db || !fullName) return;
    const tx = db.transaction("activityLogs", "readwrite");
    tx.objectStore("activityLogs").add({ fullName, page, type, timestamp: new Date().toISOString(), ...extra });
  }

  // Track clicks
  document.addEventListener("click", (e) => {
    if (!currentUser) return;
    logActivity(currentUser.fullName, window.location.pathname, "click", { tag: e.target.tagName, id: e.target.id });
  });

  // Track time spent on page
  const startTime = Date.now();
  window.addEventListener("beforeunload", () => {
    if (!currentUser) return;
    const durationSec = Math.floor((Date.now() - startTime) / 1000);
    logActivity(currentUser.fullName, window.location.pathname, "time", { durationSec });
  });
});
</script>
  <!-- Registration Form Modal --
<div id="registrationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-lg shadow-lg w-96">
    <h2 class="text-xl font-bold mb-4">SmartKids Registration</h2>
    <form id="registrationForm" class="space-y-3">
      <div>
        <label class="block text-sm font-medium">Full Name</label>
        <input type="text" id="fullName" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">School Name</label>
        <input type="text" id="schoolName" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">State</label>
        <input type="text" id="state" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">Country</label>
        <input type="text" id="country" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label class="block text-sm font-medium">Password</label>
        <input type="password" id="password" class="w-full border p-2 rounded" required>
      </div>
      <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
        Register
      </button>
    </form>
  </div>
</div>
-->
  <!-- Registration Modal Placeholder -->
<div id="modalContainer"></div>

<!-- Shared Auth Script -->
<script src="auth.js"></script>
  <script src="registration.js"></script>


  
</body>
</html>
