<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Learning Kids - Mouse Practice</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .accordion-body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; }
    .accordion-header span:last-child { transition: transform 0.3s ease; }
    .hidden { display: none; }
    .target {
      width: 50px; height: 50px; background: #1E40AF;
      border-radius: 50%; position: absolute; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: white; font-weight: bold; user-select: none;
      transition: transform 0.1s ease;
    }
    .drag-item {
      width: 50px; height: 50px; background: #1E40AF; color:white; display:flex; justify-content:center; align-items:center;
      border-radius: 8px; cursor: grab; position:absolute; user-select:none;
    }
    .drop-zone {
      width: 100px; height: 100px; background:#CBD5E1; border:2px dashed #1E40AF; position:absolute;
      display:flex; justify-content:center; align-items:center; font-weight:bold; color:#1E40AF;
    }
    .stats span { margin-right: 15px; font-weight: bold; }
    .mouse-path {
      position: absolute; height: 4px; background: red; top: 50%; left: 0; transform-origin: left center;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">

  <!-- Header -->
  <header class="bg-blue-600 text-white shadow-md fixed top-0 left-0 w-full z-50">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold">Smart Learning Kids</h1>
      <a href="index.html" class="bg-white text-blue-600 px-4 py-2 rounded-lg font-medium shadow hover:bg-blue-100 transition">Home</a>
    </div>
  </header>

  <!-- Content -->
  <main class="pt-24 max-w-4xl mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-8">Mouse Practice</h2>
    <div id="accordion" class="space-y-4"></div>
  </main>

  <!-- Modal -->
  <div id="mouseModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl p-6 max-w-2xl w-full shadow-lg relative">
      <button id="closeMouse" class="absolute top-2 right-2 text-red-600 text-xl font-bold">&times;</button>
      <h2 id="mouseTitle" class="text-xl font-bold mb-4">Mouse Practice</h2>

      <!-- Instructions -->
      <div id="mouseInstruction" class="mb-4 p-3 bg-gray-100 rounded text-lg leading-relaxed"></div>

      <!-- Practice Area -->
      <div id="practiceArea" class="relative w-full h-64 bg-gray-200 rounded mb-4 overflow-hidden"></div>

      <!-- Stats -->
      <div class="stats flex justify-start text-sm font-semibold mb-4">
        <span>Clicks: <span id="clicks">0</span></span>
        <span>Hits: <span id="hits">0</span></span>
        <span>Accuracy: <span id="mouseAccuracy">100</span>%</span>
      </div>

      <div class="flex justify-between mt-4">
        <button id="btnPrevMouse" class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">⬅ Prev</button>
        <button id="btnRestartMouse" class="px-4 py-2 bg-yellow-200 rounded hover:bg-yellow-300">🔄 Restart</button>
        <button id="btnNextMouse" class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">Next ➡</button>
      </div>
    </div>
  </div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const years = [
    { id: "year1", name: "Year 1", topics:[
      { title:"Clicking Basics", sample:"Practice clicking on the highlighted spots with the mouse.", type:"basicClick"},
      { title:"Double-Clicking", sample:"Double-click quickly on the shapes to open them.", type:"doubleClick"},
      { title:"Mouse Movement", sample:"Move the mouse to follow the line on the screen.", type:"mouseMovement"}
    ]},
    { id:"year2", name:"Year 2", topics:[
      { title:"Drag and Drop", sample:"Drag the objects into the correct boxes.", type:"dragDrop"},
      { title:"Right-Click Basics", sample:"Right-click on items to see context menus.", type:"rightClick"},
      { title:"Click and Hold", sample:"Hold the mouse button to draw a straight line.", type:"clickHold"}
    ]},
    { id:"year3", name:"Year 3", topics:[
      { title:"Text Selection", sample:"Click and drag to highlight the given words.", type:"clickDrag"},
      { title:"Scrolling", sample:"Use the scroll wheel to move up and down the page.", type:"scroll"},
      { title:"Simple Shapes Drawing", sample:"Click and drag to draw circles and rectangles.", type:"shapes"}
    ]},
    { id:"year4", name:"Year 4", topics:[] },
    { id:"year5", name:"Year 5", topics:[] },
    { id:"year6", name:"Year 6", topics:[] }
  ];

  const container = document.getElementById("accordion");
  const mouseModal = document.getElementById("mouseModal");
  const closeMouse = document.getElementById("closeMouse");
  const mouseTitle = document.getElementById("mouseTitle");
  const mouseInstruction = document.getElementById("mouseInstruction");
  const practiceArea = document.getElementById("practiceArea");
  const clicksEl = document.getElementById("clicks");
  const hitsEl = document.getElementById("hits");
  const accuracyEl = document.getElementById("mouseAccuracy");
  const btnPrevMouse = document.getElementById("btnPrevMouse");
  const btnNextMouse = document.getElementById("btnNextMouse");
  const btnRestartMouse = document.getElementById("btnRestartMouse");

  let currentTopics = [];
  let currentIndex = 0;
  let clicks = 0, hits = 0;

  function resetStats() {
    clicks=0; hits=0;
    clicksEl.textContent=clicks; hitsEl.textContent=hits; accuracyEl.textContent=100;
  }

  function updateStats() {
    clicksEl.textContent=clicks;
    hitsEl.textContent=hits;
    accuracyEl.textContent = clicks>0? Math.round(hits/clicks*100):100;
  }

  function spawnTarget() {
    practiceArea.innerHTML='';
    const target = document.createElement("div");
    target.className="target";
    target.textContent="🎯";
    const rect = practiceArea.getBoundingClientRect();
    const size = 50;
    const x = Math.random()*(rect.width-size);
    const y = Math.random()*(rect.height-size);
    target.style.left = x+"px"; target.style.top = y+"px";
    practiceArea.appendChild(target);

    target.addEventListener("click", e=>{
      hits++; clicks++; updateStats(); spawnTarget();
    });
  }

  function renderPractice(topic) {
    practiceArea.innerHTML='';
    resetStats();
    switch(topic.type){
      case "basicClick": spawnTarget(); break;
      case "doubleClick":
        const t = document.createElement("div"); t.className="target"; t.textContent="🎯";
        const rect = practiceArea.getBoundingClientRect();
        t.style.left = (rect.width/2-25)+"px"; t.style.top = (rect.height/2-25)+"px";
        practiceArea.appendChild(t);
        t.addEventListener("dblclick", e=>{
          hits++; clicks++; updateStats();
          mouseModal.classList.add("hidden");
        });
        break;
      case "mouseMovement":
        const path = document.createElement("div"); path.className="mouse-path"; path.style.width="80%";
        practiceArea.appendChild(path);
        practiceArea.addEventListener("mousemove", function mmove(){
          hits++; clicks++; updateStats();
          practiceArea.removeEventListener("mousemove", mmove);
        });
        break;
      case "dragDrop":
        const dragItem = document.createElement("div"); dragItem.className="drag-item"; dragItem.textContent="Drag";
        dragItem.style.left="20px"; dragItem.style.top="20px";
        const dropZone = document.createElement("div"); dropZone.className="drop-zone"; dropZone.textContent="Drop";
        dropZone.style.right="20px"; dropZone.style.bottom="20px";
        practiceArea.appendChild(dragItem); practiceArea.appendChild(dropZone);
        dragItem.addEventListener("mousedown", e=>{
          e.preventDefault();
          let offsetX = e.offsetX, offsetY = e.offsetY;
          function moveHandler(ev){
            dragItem.style.left = (ev.clientX-practiceArea.getBoundingClientRect().left - offsetX)+"px";
            dragItem.style.top = (ev.clientY-practiceArea.getBoundingClientRect().top - offsetY)+"px";
          }
          function upHandler(ev){
            document.removeEventListener("mousemove", moveHandler);
            document.removeEventListener("mouseup", upHandler);
            const dragRect=dragItem.getBoundingClientRect(), dropRect=dropZone.getBoundingClientRect();
            if(!(dragRect.right<dropRect.left || dragRect.left>dropRect.right || dragRect.bottom<dropRect.top || dragRect.top>dropRect.bottom)){
              hits++; clicks++; updateStats();
              dragItem.style.left=dropZone.style.left||"auto"; dragItem.style.top=dropZone.style.top||"auto";
            }
          }
          document.addEventListener("mousemove", moveHandler);
          document.addEventListener("mouseup", upHandler);
        });
        break;
      case "rightClick":
        practiceArea.addEventListener("contextmenu", function rc(e){
          e.preventDefault(); hits++; clicks++; updateStats();
          practiceArea.removeEventListener("contextmenu", rc);
        });
        break;
      case "clickHold":
        const hold = document.createElement("div"); hold.className="target"; hold.textContent="Hold";
        hold.style.left="50%"; hold.style.top="50%"; hold.style.transform="translate(-50%,-50%)";
        practiceArea.appendChild(hold);
        let holdTimer;
        hold.addEventListener("mousedown", ()=>{
          holdTimer=setTimeout(()=>{hits++; clicks++; updateStats();}, 1000);
        });
        hold.addEventListener("mouseup", ()=>clearTimeout(holdTimer));
        break;
    }
  }

  // Build accordion
  years.forEach(y=>{
    const card = document.createElement("div"); card.className="bg-white rounded-xl shadow-md overflow-hidden mb-4";
    const header = document.createElement("button"); header.className="accordion-header w-full flex justify-between items-center px-6 py-4 text-lg font-semibold bg-blue-100 hover:bg-blue-200 transition";
    header.innerHTML=`<span>${y.name}</span><span>+</span>`;
    const body = document.createElement("div"); body.className="accordion-body bg-gray-50";

    body.innerHTML = y.topics.map(t=>`
      <li class="mb-1">
        <button class="topicBtn block w-full text-left px-4 py-2 rounded-lg shadow text-gray-900 bg-white hover:shadow-md hover:bg-blue-50 transition flex items-center gap-2"
        data-title="${t.title}" data-sample="${t.sample}" data-type="${t.type}">🖱️ ${t.title}</button>
      </li>
    `).join("");

    card.appendChild(header); card.appendChild(body);
    header.addEventListener("click", ()=>{
      const isOpen = body.style.maxHeight && body.style.maxHeight!=="0px";
      container.querySelectorAll(".accordion-body").forEach(el=>el.style.maxHeight=null);
      container.querySelectorAll(".accordion-header span:last-child").forEach(ic=>ic.style.transform="rotate(0deg)");
      if(!isOpen){ body.style.maxHeight=body.scrollHeight+"px"; header.querySelector("span:last-child").style.transform="rotate(45deg)"; }
    });
    container.appendChild(card);
  });

  container.addEventListener("click", e=>{
    const btn = e.target.closest(".topicBtn"); if(!btn) return;
    currentTopics = [...btn.closest("ul")?.querySelectorAll(".topicBtn")||[btn]];
    currentIndex = currentTopics.indexOf(btn);
    mouseTitle.textContent=btn.dataset.title;
    mouseInstruction.textContent=btn.dataset.sample;
    renderPractice({type:btn.dataset.type});
    mouseModal.classList.remove("hidden");
  });

  btnNextMouse.addEventListener("click", ()=>{ if(currentIndex<currentTopics.length-1){currentIndex++; const btn=currentTopics[currentIndex]; mouseTitle.textContent=btn.dataset.title; mouseInstruction.textContent=btn.dataset.sample; renderPractice({type:btn.dataset.type}); }});
  btnPrevMouse.addEventListener("click", ()=>{ if(currentIndex>0){currentIndex--; const btn=currentTopics[currentIndex]; mouseTitle.textContent=btn.dataset.title; mouseInstruction.textContent=btn.dataset.sample; renderPractice({type:btn.dataset.type}); }});

  btnRestartMouse.addEventListener("click", ()=>{
    if(currentTopics.length>0){
      const btn=currentTopics[currentIndex];
      mouseTitle.textContent=btn.dataset.title;
      mouseInstruction.textContent=btn.dataset.sample;
      renderPractice({type:btn.dataset.type});
    }
  });

  closeMouse.addEventListener("click", ()=>{
    mouseModal.classList.add("hidden");
    practiceArea.innerHTML="";
  });

  // Global click tracker for misses
  practiceArea.addEventListener("click", e=>{
    if(!e.target.classList.contains("target") && !e.target.classList.contains("drag-item")){
      clicks++; updateStats();
    }
  });
});
</script>
</body>
</html>

  
